<h1>TASK LIST</h1>

<div id="add_new_task">
  <%= button_to "Add new task", "/tasks/new", method: "get" %>
</div>

<table>
  <tr>
    <th> Name </th>
    <th> Description </th>
    <th> Completed? </th>
    <th> Date Completed </th>
  </tr>

  <% @tasks.each do |task| %>
    <div>
      <tr>
        <td> <%= link_to "#{task.name}", "/tasks/#{task.id}" %> </td>
        <td> <%= task.description %> </td>
        <td> <%= task.completed_at ? "Yes" : "No" %> </td>
        <td> <%= task.completed_at %> </td>
        <td>
          <%= task.completed_at ? "" : (button_to "Task Completed", "/tasks/#{task.id}") %>

        </td>
        <td>
          <%= button_to "Edit", "/tasks/#{task.id}/edit", method: "get" %>
        </td>
        <td>
          <%= button_to "Delete", "/tasks/#{task.id}", method: "delete", data: { confirm: "Are you sure you want to delete?" } %>
        </td>
      </tr>
    </div>
  <% end %>
</table>
