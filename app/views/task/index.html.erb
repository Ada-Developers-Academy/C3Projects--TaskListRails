<h1>Task Master!</h1>
<% completed_tasks = [] %>
<% incomplete_tasks = [] %>
<% @tasks.each do |task| %>
<%   if task[:date_completed] != nil %>
<%     completed_tasks.push(task) %>
<%   else %>
<%     incomplete_tasks.push(task) %>
<%   end %>
<% end %>

<%= button_to "Add a New Task", '/tasks/new', method: 'get' %>

<section>
  <h3>Active Tasks (not yet complete):</h3>

  <table border ="0">
      <% incomplete_tasks.each do |task| %>
        <tr>
          <td class="name_column"><%= task[:task_name] %></td>
          <td class="completed_column">(active)</td>
          <td><%= button_to "Show Details", "/tasks/#{task.id}", class: "button" %></td>
          <td><%= button_to "Delete this task", "/tasks/#{task.id}", method: "delete", data: { :confirm => "Are you sure you want to delete this task?" } %></td>
        </tr>
      <% end %>
  </table>
</section>

<section>
  <h3>Completed Tasks:</h3>
  <table border ="0">
      <% completed_tasks.each do |task| %>
        <tr>
          <td class="name_column"><%= task[:task_name] %></td>
          <td class="completed_column">(incomplete)</td>
          <td><%= button_to "Show Details", "/tasks/#{task.id}", class: "button" %></td>
          <td><%= button_to "Delete this task", "/tasks/#{task.id}", method: "delete", data: { :confirm => "Are you sure you want to delete this task?" } %></td>
        </tr>
      <% end %>
  </table>
</section>
