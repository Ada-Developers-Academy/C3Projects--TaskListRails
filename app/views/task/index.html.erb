<h1>Task Master!</h1>
<!-- <% completed_tasks = [] %>
<% incomplete_tasks = [] %>
<% @tasks.each do |task| %>
<%   if task[:date_completed] != nil %>
<%     completed_tasks.push(task) %>
<%   else %>
<%     incomplete_tasks.push(task) %>
<%   end %>
<% end %> -->

<%= button_to "Add a New Task", '/tasks/new', method: 'get' %>

<section>
  <!-- <h3>Active Tasks (not yet complete):</h3> -->

  <h3>Tasks</h3>
  <table border ="0">

      <% @tasks.each do |task| %>
        <tr>
          <td class="name_column"><%= task[:task_name] %></td>


          <%= form_for( "/tasks/#{task.id}" ) do |f| %>

            <% if task[:date_completed] != nil %>
            <td><%= link_to("/tasks/incomplete/#{task.id}") do %>
              <i class="fa fa-check-square">
            <% end %></td>
              <!-- <td class= "checkbox"><%= check_box_tag(:completed, "true", true) %>
              <td><%= label_tag(:completed, "completed") %></td>
              <td><%= button_to "Update Completion", "/tasks/complete/#{task.id}" %></td> -->

            <% else %>
            <td><%= link_to("/tasks/complete/#{task.id}") do %>
              <i class="fa fa-square">
            <% end %></td>
              <!-- <td class= "checkbox"><%= check_box_tag(:completed, "false") %>
              <td><%= label_tag(:completed, "active") %></td>
              <td><%= button_to "Update Completion", "/tasks/complete/#{task.id}" %></td> -->
            <% end %>


          <% end %>

          <td><%= button_to "Show Details", "/tasks/#{task.id}" %></td>
          <td><%= button_to "Edit Details", "/tasks/update/#{task.id}", method: "get" %></td>
          <td><%= button_to "Delete this task", "/tasks/#{task.id}", method: "delete", data: { :confirm => "Are you sure you want to delete this task?" } %></td>

        </tr>
        <% end %>

  </table>
</section>

<!-- <section> -->
  <!-- <h3>Completed Tasks:</h3> -->
  <!-- <table border ="0"> -->
      <!-- <% completed_tasks.each do |task| %> -->
        <!-- <tr> -->
          <!-- <td class="name_column"><%= task[:task_name] %></td> -->
          <!-- <td class="completed_column">(incomplete)</td> -->
          <!-- <td><%= button_to "Show Details", "/tasks/#{task.id}" %></td> -->
          <!-- <td><%= button_to "Edit Details", "/tasks/#{task.id}", method: "patch" %></td> -->
          <!-- <td><%= button_to "Delete this task", "/tasks/#{task.id}", method: "delete", data: { :confirm => "Are you sure you want to delete this task?" } %></td> -->
        <!-- </tr> -->
      <!-- <% end %> -->
  <!-- </table> -->
<!-- </section> -->
