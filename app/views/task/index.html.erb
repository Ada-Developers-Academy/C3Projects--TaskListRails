<h1>Welcome to Task Master!</h1>

<%= button_to "Add a New Task", '/tasks/new', method: 'get' %>
<%= button_to "View people", "/person", method: "get" %>

<section>
  <table border ="0">
    <tr>
      <th>Task Name</th>
      <th>Completed?</th>
      <th>Assigned To</th>
    </tr>

    <% @tasks.each do |task| %>
      <tr>
        <td class="name_column"><%= task[:task_name] %></td>

        <%= form_for( "/tasks/#{task.id}" ) do |f| %>

          <% if task[:date_completed] != nil %>
            <td><%= link_to("/tasks/incomplete/#{task.id}", class: "completed_column") do %>
              <i class="fa fa-check-square">
            <% end %></td>

          <% else %>
            <td><%= link_to("/tasks/complete/#{task.id}", class: "completed_column") do %>
                <i class="fa fa-square">
              <% end %></td>
          <% end %>

        <% end %>

        <td><%= task.person[:name] %></td>
        <td><%= button_to "Show Details", "/tasks/#{task.id}", method: "get" %></td>
        <td><%= button_to "Edit Details", "/tasks/update/#{task.id}", method: "get" %></td>
        <td><%= button_to "Delete this task", "/tasks/#{task.id}", method: "delete", data: { :confirm => "Are you sure you want to delete this task?" } %></td>

      </tr>
    <% end %>

  </table>
</section>
